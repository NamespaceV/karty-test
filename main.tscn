[gd_scene format=3 uid="uid://dxa5ccd40isk5"]

[ext_resource type="Script" uid="uid://p2goto8d7ooy" path="res://main.gd" id="1_ig7tw"]
[ext_resource type="PackedScene" uid="uid://cho732lpla0kc" path="res://Nodes/Boss/Laser/aoe.tscn" id="2_82xsv"]
[ext_resource type="AudioStream" uid="uid://04ej65e3urvr" path="res://audio/Deal.wav" id="2_efxa6"]
[ext_resource type="Script" uid="uid://gcpmgnm51wki" path="res://world_audio_manager.gd" id="2_ycdy4"]
[ext_resource type="AudioStream" uid="uid://rewllv2eiyn5" path="res://audio/Shuffle.wav" id="3_dg77c"]
[ext_resource type="Texture2D" uid="uid://dqraeps4h3bci" path="res://textures/fish/feed1.png" id="3_lquwl"]
[ext_resource type="PackedScene" uid="uid://d05380phvgsek" path="res://Nodes/Boss/Laser/laser_indicator.tscn" id="3_yaehf"]
[ext_resource type="Texture2D" uid="uid://csemj2qqly2v3" path="res://textures/fish/feed3.png" id="4_7mycd"]
[ext_resource type="Texture2D" uid="uid://cjftg5rxollan" path="res://bg.png" id="4_cegan"]
[ext_resource type="Texture2D" uid="uid://q4ofoxyo2t4v" path="res://textures/fish/feed2.png" id="5_272bh"]
[ext_resource type="AudioStream" uid="uid://b8x2jmo13hhi3" path="res://audio/Bubbles Sound Effect.mp3" id="6_272bh"]
[ext_resource type="Texture2D" uid="uid://gf11aic5mr75" path="res://textures/fish/bubble.png" id="7_5vw27"]
[ext_resource type="AudioStream" uid="uid://bpvf7cnqm2s2b" path="res://audio/Crowd.ogg" id="8_5vw27"]
[ext_resource type="AudioStream" uid="uid://bjfdlv8dshw6b" path="res://audio/Music/molten-flesh-210451.mp3" id="9_efxa6"]
[ext_resource type="AudioStream" uid="uid://ckccxcs1isbhr" path="res://audio/Music/neo-soul-night-210447.mp3" id="10_dg77c"]
[ext_resource type="AudioStream" uid="uid://byn656562kbx7" path="res://audio/Music/unexpected-connection-strategy-risk-407229.mp3" id="11_ycdy4"]
[ext_resource type="PackedScene" uid="uid://xp40g7j114lm" path="res://Nodes/Boss/boss.tscn" id="14_w48qg"]
[ext_resource type="PackedScene" uid="uid://bpml58shwj1wq" path="res://Nodes/Player/player.tscn" id="15_vivmo"]
[ext_resource type="PackedScene" uid="uid://b7a73wqytukva" path="res://Nodes/Boss/Laser/laser.tscn" id="16_2cqfq"]
[ext_resource type="Script" uid="uid://1ocmk2pskud1" path="res://camera_2d.gd" id="18_074og"]

[sub_resource type="AudioStreamPlaylist" id="AudioStreamPlaylist_w48qg"]
shuffle = true
fade_time = 0.5
stream_count = 3
stream_0 = ExtResource("9_efxa6")
stream_1 = ExtResource("10_dg77c")
stream_2 = ExtResource("11_ycdy4")

[sub_resource type="Animation" id="Animation_2cqfq"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("boss:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(928, 164)]
}

[sub_resource type="Animation" id="Animation_yaehf"]
resource_name = "boss_move_1"
length = 5.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("boss:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 3.0333333, 4.9666667),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(928, 164), Vector2(489, 164), Vector2(1690, 164), Vector2(928, 164)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_074og"]
_data = {
&"RESET": SubResource("Animation_2cqfq"),
&"boss_move_1": SubResource("Animation_yaehf")
}

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_2cqfq"]
bg_color = Color(0.6, 0.024000013, 0.024000013, 1)

[node name="Scene" type="Node2D" unique_id=1460920190]
script = ExtResource("1_ig7tw")
aoe = ExtResource("2_82xsv")
laser = ExtResource("16_2cqfq")
laser_ind = ExtResource("3_yaehf")

[node name="Bg" type="Sprite2D" parent="." unique_id=864595188]
position = Vector2(1038, 702)
scale = Vector2(4.5121984, 4.8609114)
texture = ExtResource("4_cegan")

[node name="fish_cards" type="Node2D" parent="." unique_id=860529671]
visible = false

[node name="Cards" type="Node2D" parent="fish_cards" unique_id=400100176]

[node name="DealButton" type="Button" parent="fish_cards" unique_id=457972803]
offset_left = 39.0
offset_top = 15.0
offset_right = 151.0
offset_bottom = 90.0
text = "Deal"

[node name="Deal" type="AudioStreamPlayer2D" parent="fish_cards" unique_id=505518935]
position = Vector2(39, 15)
stream = ExtResource("2_efxa6")
bus = &"SFX"

[node name="ShuffleButton" type="Button" parent="fish_cards" unique_id=1722765340]
offset_left = 47.0
offset_top = 111.0
offset_right = 308.0
offset_bottom = 186.0
text = "Shuffle
"

[node name="Shuffle" type="AudioStreamPlayer2D" parent="fish_cards" unique_id=1896805299]
position = Vector2(205, 510)
stream = ExtResource("3_dg77c")
bus = &"SFX"

[node name="fish_button" type="TextureButton" parent="fish_cards" unique_id=837561661]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -223.0
offset_top = -174.0
offset_right = 289.0
offset_bottom = 338.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.5944897, 0.5944897)
size_flags_horizontal = 4
size_flags_vertical = 4
texture_normal = ExtResource("3_lquwl")
texture_pressed = ExtResource("4_7mycd")
texture_hover = ExtResource("5_272bh")

[node name="bubble_sound" type="AudioStreamPlayer2D" parent="fish_cards/fish_button" unique_id=1750037993]
stream = ExtResource("6_272bh")
volume_db = -13.126
attenuation = 1.866066
bus = &"SFX"

[node name="bubble_particles" type="CPUParticles2D" parent="fish_cards/fish_button" unique_id=341572927]
visible = false
z_index = -1
position = Vector2(368.38318, 1199.3479)
amount = 50
texture = ExtResource("7_5vw27")
lifetime = 2.0
emission_shape = 3
emission_rect_extents = Vector2(1800, 1)
gravity = Vector2(0, -490)
radial_accel_max = 41.24
scale_amount_min = 0.1
scale_amount_max = 0.2

[node name="WorldAudioManager" type="Node" parent="fish_cards" unique_id=430556068]
script = ExtResource("2_ycdy4")

[node name="Music" type="AudioStreamPlayer" parent="fish_cards/WorldAudioManager" unique_id=874279367]
stream = SubResource("AudioStreamPlaylist_w48qg")
volume_db = -23.223
autoplay = true
bus = &"Music"

[node name="Crowd" type="AudioStreamPlayer" parent="fish_cards/WorldAudioManager" unique_id=1144958476]
stream = ExtResource("8_5vw27")
volume_db = -18.128
autoplay = true
bus = &"Ambience"
parameters/looping = true

[node name="boss" parent="." unique_id=1371564772 node_paths=PackedStringArray("hpBar") instance=ExtResource("14_w48qg")]
position = Vector2(928, 164)
hpBar = NodePath("../CanvasLayer/BossHp")

[node name="Camera2D" type="Camera2D" parent="." unique_id=855566418]
position = Vector2(962, 541)
script = ExtResource("18_074og")

[node name="Player" parent="." unique_id=239836141 instance=ExtResource("15_vivmo")]
position = Vector2(976, 872)

[node name="laserBase" type="Marker2D" parent="." unique_id=794296642]
position = Vector2(285, 1068)

[node name="AnimationPlayer" type="AnimationPlayer" parent="." unique_id=2047969869]
libraries/ = SubResource("AnimationLibrary_074og")

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=1911533937]

[node name="BossHp" type="ProgressBar" parent="CanvasLayer" unique_id=1946581873]
offset_right = 1919.0
offset_bottom = 71.0
theme_override_styles/fill = SubResource("StyleBoxFlat_2cqfq")
value = 60.0
show_percentage = false

[connection signal="pressed" from="fish_cards/fish_button" to="." method="_on_fish_button_pressed"]
[connection signal="finished" from="fish_cards/fish_button/bubble_sound" to="." method="_on_bubble_sound_finished"]
